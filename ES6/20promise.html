<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
   <script>

    // promise 디자인 패턴
    let 프로미스 = new Promise(function(resolve, reject){
        // resolve(); 성공판정
        // reject(); 실패판정

        setTimeout(() => {
            resolve();
        },3000);
    });

    프로미스.then(function() {
        // 프로미스가 성공일 경우 실행할 코드
        console.log('성공');
    }).then(function() {

    }).catch(function() {
        //실패해도 실행할 코드
        // then이 실행되지 않고 catch가 실행된다.
        console.log('실패')
    }).finally(function() {
        // 성공이든 실패든 그냥 일어나면 실행할 코드
    })

    // 옆으로 코드가 길어지지 않아서 개꿀!
    // then 대신에 catch -> 실패할 경우에도 실행 가능!
    // promise 는 성공 실패를 판정하는 기계라고 생각하자!
    // 콜백함수 대신에 좀 더 예쁘게 디자인하고 싶을 때 쓴다.


    // promise 특징
    // 성공하면 resolved
    // 판정 대기중이면 pending
    // 실패하면 rejected

    // 비동기적 처리가 가능하게 바꿔주는 문법이 아니다!!!! 오해하지 말자!!!!!!
    // 처리하는동안 브라우저 멈춘다.
    // 그냥 콜백을 예쁘게 만들어준거야

    // fetch() -> Promise를 return 한다!!!!!! .then().catch() 이런거 뒤에 쭈르륵 가능

    // new Promise()를 호출하면 pending 상태가 된다. 콜백 함수 인자 resolve를 실행하면 fulfilled 상태가 된다. 그리고 fulfilled 되면 then()을 이용해 결과를 받을 수 있다.
    // 인자 reject를 호출 하면 Reject상태가 되는데, 이 상태가되면 catch()로 받을 수 있다. 

   </script>
    
</body>
</html>